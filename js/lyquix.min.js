var lqx=lqx||{settings:{logger:{enable:false,namespaces:["window","jQuery","lqx"]},tracking:{downloads:true,outbound:true,scrolldepth:true,photogallery:true,video:true},shadeColorPercent:{lighter:20,light:10,dark:-10,darker:-20},resizeThrottle:{duration:100}},vars:{resizeThrottle:false},setOptions:function(opts){if(typeof opts=="object"){jQuery.extend(true,lqx.settings,opts)}return lqx.settings},initLogging:function(){if(lqx.settings.logger.enable){for(var i in lqx.settings.logger.namespaces){lqx.addLoggingToNamespace(lqx.settings.logger.namespaces[i])}}},addLoggingToNamespace:function(nameSpace){if(nameSpace=="window"){namespaceObject=window}else{namespaceObject=window[nameSpace]}for(var name in namespaceObject){var potentialFunction=namespaceObject[name];if(Object.prototype.toString.call(potentialFunction)==="[object Function]"){namespaceObject[name]=lqx.getLoggableFunction(potentialFunction,name,nameSpace)}}},getLoggableFunction:function(func,name,nameSpace){return function(){console.log("LOG: executing "+nameSpace+"."+name+" with arguments:");console.log(arguments);return func.apply(this,arguments)}},bodyScreenSize:function(){w=jQuery(window).width();if(w<640)s="xs";if(w>=640)s="sm";if(w>=960)s="md";if(w>=1280)s="lg";if(w>=1600)s="xl";if(s!=lqx.vars.lastScreenSize){jQuery("body").attr("screen",s);document.getElementsByTagName("body")[0].className=document.getElementsByTagName("body")[0].className;jQuery(document).trigger("screensizechange");lqx.vars.lastScreenSize=s}},getBrowser:function(){var ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(M[1])){tem=/\brv[ :]+(\d+)/g.exec(ua)||[];return"IE "+(tem[1]||"")}if(M[1]==="Chrome"){tem=ua.match(/\b(OPR|Edge)\/(\d+)/);if(tem!=null){return tem.slice(1).join(" ").replace("OPR","Opera")}}M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"];if((tem=ua.match(/version\/(\d+)/i))!=null){M.splice(1,1,tem[1])}return M.join(" ")},equalHeightRows:function(){var currentTallest=0,currentRowStart=0,rowDivs=new Array,el,topPosition=0,loadComplete=true;jQuery(".equalheightrow").each(function(){el=jQuery(this);jQuery(el).find("img").each(function(){if(this.complete!=true||this.naturalWidth==0){if(typeof jQuery(this).attr("error")=="undefined"){loadComplete=false}}}).promise().done(function(){if(loadComplete){el.height("auto");topPostion=el.position().top;if(currentRowStart!=topPostion){for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}rowDivs.length=0;currentRowStart=topPostion;currentTallest=el.height();rowDivs.push(el)}else{rowDivs.push(el);currentTallest=currentTallest<el.height()?el.height():currentTallest}for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}}})}).promise().done(function(){if(!loadComplete){setTimeout(function(){lqx.equalHeightRows()},250)}})},hangingPunctuation:function(){lqx.vars.hangingMarks={"“":"medium","‘":"small",'"':"medium","'":"small","«":"large","‹":"medium","„":"medium","‚":"small"};jQuery(".hanging-punctuation").find("p").each(function(idx,elem){lqx.hangPunctuation(elem)})},hangPunctuation:function(elem){var plaintext=elem.innerText||elem.textContent;for(var mark in lqx.vars.hangingMarks){if(plaintext.indexOf(mark)===0){jQuery(elem).append('<span id="hangingMark">'+mark+"</span>");var w=jQuery("#hangingMark").outerWidth();jQuery(elem).css("text-indent","-"+w+"px");jQuery("#hangingMark").remove()}}},imageCaption:function(){jQuery(".image.caption img").each(function(idx,elem){var caption=jQuery(elem).attr("alt");if(caption){jQuery(elem).after('<div class="caption">'+caption+"</div>")}})},lineBreakSymbol:function(){jQuery(".show-line-break p br").each(function(idx,elem){jQuery(elem).before(String.fromCharCode(8626))})},shadeColor:function(){for(var i in["color","bg","border"]){for(var j in["lighter","light","dark","darker"]){var prop;switch(i){case"color":prop="color";break;case"bg":prop="background-color";break;case"border":prop="border-color";break}var c="."+i+"-"+j;jQuery(c).each(function(idx,elem){var color=jQuery(elem).css(prop);if(color.charAt(0)=="#"){color=shadeHex(color,lqx.settings.shadeColorPercent[j])}else{color=shadeRGB(color,lqx.settings.shadeColorPercent[j])}jQuery(elem).css(prop,color)})}}},shadeHex:function(color,percent){var num=parseInt(color.slice(1),16),amt=Math.round(2.55*percent),R=(num>>16)+amt,G=(num>>8&255)+amt,B=(num&255)+amt;return"#"+(16777216+(R<255?R<1?0:R:255)*65536+(G<255?G<1?0:G:255)*256+(B<255?B<1?0:B:255)).toString(16).slice(1)},shadeRGB:function(color,percent){var f=color.split(","),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=parseInt(f[0].slice(4)),G=parseInt(f[1]),B=parseInt(f[2]);return"rgb("+(Math.round((t-R)*p)+R)+","+(Math.round((t-G)*p)+G)+","+(Math.round((t-B)*p)+B)+")"},initTracking:function(){if(typeof window.ga!=="undefined"){if(lqx.settings.tracking.outbound||lqx.settings.tracking.download){jQuery("a").each(function(){var elem=this;if(elem.href){if(elem.href.indexOf(location.host)==-1&&lqx.settings.tracking.outbound){jQuery(elem).click(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var url=elem.href;var target=elem.target&&!elem.target.match(/^_(self|parent|top)$/i)?elem.target:false;ga("send",{hitType:"event",eventCategory:"Outbound Links",eventAction:"click",eventLabel:url,nonInteraction:true,hitCallback:function(){target?window.open(url,target):window.location.href=url}})})}else if(elem.href.match(/\.(gif|png|jpg|jpeg|tif|tiff|svg|webp|bmp|zip|rar|gzip|7z|tar|exe|msi|dmg|txt|pdf|rtf|doc.*|xls.*|ppt.*|mp3|wav|mp4|ogg|webm|wma|mov|avi|wmv|flv|swf|xml|js|json|css|less|sass)$/i)&&lqx.settings.tracking.download){jQuery(elem).click(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var url=elem.href;var target=elem.target&&!elem.target.match(/^_(self|parent|top)$/i)?elem.target:false;var loc=elem.protocol+"//"+elem.hostname+elem.pathname+elem.search;var page=elem.pathname+elem.search;ga("send",{hitType:"pageview",location:loc,page:page,title:"Download: "+page,hitCallback:function(){target?window.open(url,target):window.location.href=url}})})}}})}}if(lqx.settings.tracking.scrolldepth){lqx.vars.scrollDepthMax=Math.ceil((jQuery(window).scrollTop()+jQuery(window).height())/jQuery(document).height()*10)*10;jQuery(window).scroll(function(){if(lqx.vars.scrollDepthMax<100){lqx.vars.scrollDepthMax=Math.max(lqx.vars.scrollDepthMax,Math.ceil((jQuery(window).scrollTop()+jQuery(window).height())/jQuery(document).height()*10)*10)}});jQuery(window).on("unload",function(){ga("send",{hitType:"event",eventCategory:"Scroll Depth",eventAction:lqx.vars.scrollDepthMax,nonInteraction:true})})}if(lqx.settings.tracking.photogallery){jQuery("a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]").click(function(){ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Open"})});jQuery("img.lb-image").on("load",function(){ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Display",eventLabel:jQuery(this).attr("src")})})}if(lqx.settings.tracking.video){lqx.vars.youtubePlayers={};lqx.vars.vimeoPlayers={};jQuery("iframe").each(function(idx,elem){if(typeof jQuery(elem).attr("src")!="undefined"){if(jQuery(elem).attr("src").indexOf("youtube.com/embed/")!=-1){if(jQuery(this).attr("src").indexOf("enablejsapi=1")==-1){var urlconn="&";if(jQuery(this).attr("src").indexOf("?")==-1){urlconn="?"}jQuery(elem).attr("src",jQuery(elem).attr("src")+urlconn+"enablejsapi=1&version=3")}if(typeof jQuery(elem).attr("id")=="undefined"){jQuery(elem).attr("id","youtubePlayer"+idx)}lqx.vars.youtubePlayers[jQuery(elem).attr("id")]={}}}}).promise().done(function(){if(Object.keys(lqx.vars.youtubePlayers).length>0){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}})}},youtubePlayerCallback:function(e){if(e.data==null){lqx.vars.youtubePlayers[e.target.d.id].progress=0}else{var label;if(e.target.getPlayerState()==0){label="Complete"}if(e.target.getPlayerState()==1){var label;currentTime=e.target.getCurrentTime();lqx.vars.youtubePlayers[e.target.d.id].timer=setTimeout(function(){lqx.youtubePlayerCallback(e)},250);if(currentTime==0){label="Start"}else{duration=e.target.getDuration();if(Math.ceil(Math.ceil(currentTime/duration*100)/10)-1>lqx.vars.youtubePlayers[e.target.d.id].progress){lqx.vars.youtubePlayers[e.target.d.id].progress=Math.ceil(Math.ceil(currentTime/duration*100)/10)-1;if(lqx.vars.youtubePlayers[e.target.d.id].progress!=10){label=lqx.vars.youtubePlayers[e.target.d.id].progress*10+"%"}else{clearTimeout(lqx.vars.youtubePlayers[e.target.d.id].timer)}}}}if(label){ga("send",{hitType:"event",eventCategory:"Video",eventAction:"Play",eventLabel:label,eventValue:e.target.B.videoData.title+" (http://youtube.com/v/"+e.target.B.videoData.video_id+")"})}}}};jQuery(document).ready(function(){lqx.getBrowser=lqx.getBrowser();lqx.initLogging();lqx.initTracking();lqx.equalHeightRows();lqx.imageCaption();lqx.lineBreakSymbol();jQuery(window).resize(function(){if(!lqx.vars.resizeThrottle){lqx.bodyScreenSize();lqx.vars.resizeThrottle=true;setTimeout(function(){lqx.vars.resizeThrottle=false;lqx.bodyScreenSize()},lqx.settings.resizeThrottle.duration)}});jQuery(window).on("orientationchange",function(){lqx.bodyScreenSize()});jQuery(window).on("screensizechange",function(){lqx.equalHeightRows();lqx.hangingPunctuation()});jQuery("ul.menu").click(function(){if(jQuery(this).hasClass("collapse")||jQuery(this).hasClass("collapse-xs")&&jQuery("body").attr("screen")=="xs"||jQuery(this).hasClass("collapse-sm")&&jQuery("body").attr("screen")=="sm"){if(jQuery(this).hasClass("expand")){jQuery(this).removeClass("expand")}else{jQuery(this).addClass("expand")}}});jQuery("ul.menu > li.parent").click(function(e){e.stopPropagation();if(jQuery(this).parent().hasClass("collapse")||jQuery(this).parent().hasClass("collapse-xs")&&jQuery("body").attr("screen")=="xs"||jQuery(this).parent().hasClass("collapse-sm")&&jQuery("body").attr("screen")=="sm"){if(jQuery(this).hasClass("expand")){jQuery(this).removeClass("expand")}else{jQuery(this).addClass("expand")}}})});jQuery(window).load(function(){lqx.hangingPunctuation()});function onYouTubeIframeAPIReady(){for(var playerId in lqx.vars.youtubePlayers){lqx.vars.youtubePlayers[playerId].playerObj=new YT.Player(playerId,{events:{onReady:"lqx.youtubePlayerCallback",onStateChange:"lqx.youtubePlayerCallback"}})}}