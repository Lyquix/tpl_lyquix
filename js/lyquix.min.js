var lqx=lqx||{settings:{debug:!1,logger:{enable:!1,namespaces:["window","jQuery","lqx"]},tracking:{downloads:!0,outbound:!0,scrolldepth:!0,photogallery:!0,video:!0,activetime:!0},shadeColorPercent:{lighter:20,light:10,dark:-10,darker:-20},resizeThrottle:{duration:15},scrollThrottle:{duration:15},bodyScreenSize:{min:0,max:4,breakPoints:[320,640,960,1280,1600],sizes:["xs","sm","md","lg","xl"]},equalHeightRows:{refreshElems:!1,onlyVisible:!0,checkPageLoad:!0},lyqBox:{lyqboxHTMLContent:'<div class="lyqbox"><div class="content-wrapper"><div class="content"></div><div class="info"><div class="title"></div><div class="caption"></div><div class="credit"></div></div></div><div class="content-wrapper"><div class="content"></div><div class="info"><div class="title"></div><div class="caption"></div><div class="credit"></div></div></div><div class="close"></div><div class="prev"></div><div class="next"></div><div class="counter"><span class="current"></span> of <span class="total"></span></div></div>'},userActive:{idleTime:5e3,throttle:100,refresh:250,maxTime:18e5},ga:{createParams:null,setParams:null,requireParams:null,provideParams:null,customParamsFuncs:null,abTestName:null,abTestNameDimension:null,abTestGroupDimension:null},geoLocation:{enable:!1,gps:!1}},vars:{resizeThrottle:!1,scrollThrottle:!1,youTubeIframeAPIReady:!1,youTubeIframeAPIReadyAttempts:0},setOptions:function(a){return"object"==typeof a&&jQuery.extend(!0,lqx.settings,a),lqx.settings},log:function(){lqx.settings.debug&&console.log(arguments)},initLogging:function(){lqx.settings.logger.enable&&lqx.settings.logger.namespaces.forEach(function(a){lqx.addLoggingToNamespace(a)})},addLoggingToNamespace:function(a){"window"==a?namespaceObject=window:namespaceObject=window[a],Object.keys(namespaceObject).forEach(function(b,c){"[object Function]"===Object.prototype.toString.call(b)&&(namespaceObject[c]=lqx.getLoggableFunction(b,c,a))})},getLoggableFunction:function(a,b,c){return function(){return console.log("LOG: executing "+c+"."+b+" with arguments:"),console.log(arguments),a.apply(this,arguments)}},cookie:function(a,b,c){if(0==arguments.length||!a)return!1;if(1==arguments.length)return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;var e=encodeURIComponent(a)+"="+encodeURIComponent(b);return"object"==typeof c&&("maxAge"in c&&(e+="; max-age="+parseInt(c.maxAge)),"expires"in c&&c.expires instanceof Date&&(e+="; expires="+c.expires.toUTCString()),"path"in c&&(e+="; path="+c.path),"domain"in c&&(e+="; domain="+c.domain),"secure"in c&&(e+="; secure"),"httpOnly"in c&&(e+="; httponly")),document.cookie=e,!0},bodyScreenSize:function(){var a=jQuery(window).width();a<lqx.settings.bodyScreenSize.breakPoints[1]&&(s=0),a>=lqx.settings.bodyScreenSize.breakPoints[1]&&(s=1),a>=lqx.settings.bodyScreenSize.breakPoints[2]&&(s=2),a>=lqx.settings.bodyScreenSize.breakPoints[3]&&(s=3),a>=lqx.settings.bodyScreenSize.breakPoints[4]&&(s=4),s<lqx.settings.bodyScreenSize.min&&(s=lqx.settings.bodyScreenSize.min),s>lqx.settings.bodyScreenSize.max&&(s=lqx.settings.bodyScreenSize.max),lqx.settings.bodyScreenSize.sizes[s]!=lqx.vars.lastScreenSize&&(jQuery("body").attr("screen",lqx.settings.bodyScreenSize.sizes[s]),lqx.vars.lastScreenSize=lqx.settings.bodyScreenSize.sizes[s],jQuery(document).trigger("screensizechange"))},bodyScreenOrientation:function(){if("orientation"in window.screen)switch(window.screen.orientation.type){case"portrait-primary":case"portrait-secondary":lqx.vars.lastScreenOrientation="portrait",jQuery("body").attr("orientation","portrait");break;case"landscape-primary":case"landscape-secondary":lqx.vars.lastScreenOrientation="landscape",jQuery("body").attr("orientation","landscape")}},geoLocate:function(){lqx.settings.geoLocation.enable&&jQuery.ajax({cache:!1,complete:function(a,b){lqx.settings.geoLocation.gps&&"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(a){lqx.vars.geoLocation.lat=a.coords.latitude,lqx.vars.geoLocation.lon=a.coords.longitude,lqx.vars.geoLocation.radius=0}),lqx.vars.geoLocation.city&&jQuery("body").attr("city",lqx.vars.geoLocation.city),lqx.vars.geoLocation.subdivision&&jQuery("body").attr("subdivision",lqx.vars.geoLocation.subdivision),lqx.vars.geoLocation.country&&jQuery("body").attr("country",lqx.vars.geoLocation.country),lqx.vars.geoLocation.continent&&jQuery("body").attr("continent",lqx.vars.geoLocation.continent),lqx.vars.geoLocation.time_zone&&jQuery("body").attr("time-zone",lqx.vars.geoLocation.time_zone)},dataType:"json",error:function(){lqx.vars.geoLocation={city:null,subdivision:null,country:null,continent:null,time_zone:null,lat:null,lon:null,radius:null}},success:function(a,b,c){lqx.vars.geoLocation=a},url:lqx.vars.tmplURL+"/php/ip2geo/"})},mobileDetect:function(){var a=new MobileDetect(window.navigator.userAgent),b={mobile:!1,phone:!1,tablet:!1};return null!=a.mobile()&&(b.mobile=!0,jQuery("body").addClass("mobile"),null!=a.phone()&&(b.phone=!0,jQuery("body").addClass("phone")),null!=a.tablet()&&(b.tablet=!0,jQuery("body").addClass("tablet"))),b},getBrowser:function(){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}function d(b){var c=a.match(b);return c&&c.length>1&&c[2]||""}var b,a=navigator.userAgent;return/opera|opr/i.test(a)?b={name:"Opera",type:"opera",version:c(/version\/(\d+(\.\d+)?)/i)||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?b={name:"Internet Explorer",type:"msie",version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(a)?b={name:"Microsft Edge",type:"msedge",version:c(/edge\/(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?b={name:"Google Chrome",type:"chrome",version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/firefox/i.test(a)?b={name:"Firefox",type:"firefox",version:c(/(?:firefox)[ \/](\d+(\.\d+)?)/i)}:!/like android/i.test(a)&&/android/i.test(a)?b={name:"Android",type:"android",version:c(/version\/(\d+(\.\d+)?)/i)}:/safari/i.test(a)?b={name:"Safari",type:"safari",version:c(/version\/(\d+(\.\d+)?)/i)}:(b={name:c(/^(.*)\/(.*) /),version:d(/^(.*)\/(.*) /)},b.type=b.name.toLowerCase().replace(/\s/g,"")),jQuery("body").addClass(b.type),jQuery("body").addClass(b.type+"-"+b.version.split(".")[0]),jQuery("body").addClass(b.type+"-"+b.version.replace(/\./g,"-")),b}(),getOS:function(){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}function d(b){var c=a.match(b);return c&&c.length>1&&c[2]||""}var b,a=navigator.userAgent;return/(ipod|iphone|ipad)/i.test(a)?b={name:"iOS",type:"ios",version:c(/os (\d+([_\s]\d+)*) like mac os x/i).replace(/[_\s]/g,".")}:/windows phone/i.test(a)?b={name:"Windows Phone",type:"windowsphone",version:c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}:!/like android/i.test(a)&&/android/i.test(a)?b={name:"Android",type:"android",version:c(/android[ \/-](\d+(\.\d+)*)/i)}:/windows nt/i.test(a)?b={name:"Windows",type:"windows",version:c(/windows nt (\d+(\.\d+)*)/i)}:/mac os x/i.test(a)?b={name:"Mac OS X",type:"macosx",version:c(/mac os x (\d+([_\s]\d+)*)/i).replace(/[_\s]/g,".")}:/ubuntu/i.test(a)?b={name:"Ubuntu",type:"ubuntu",version:c(/ubuntu\/(\d+(\.\d+)*)/i)}:/fedora/i.test(a)?b={name:"Fedora",type:"fedora",version:c(/fedora\/(\d+(\.\d+)*)/i)}:/CrOS/.test(a)&&(b={name:"Chrome OS",type:"chromeos",version:d(/cros (.+) (\d+(\.\d+)*)/i)}),b.type&&b.version&&(jQuery("body").addClass(b.type),jQuery("body").addClass(b.type+"-"+b.version.split(".")[0]),jQuery("body").addClass(b.type+"-"+b.version.replace(/\./g,"-"))),b}(),browserFixes:function(){"msie"==lqx.getBrowser.type&&(jQuery("img").each(function(){var a=jQuery(this);if(void 0==a.attr("width")){var b=new Image;b.onload=function(){a.attr("width",b.width)},b.src=a.attr("src")}}),lqx.getBrowser.version>=10&&jQuery("html").css("font-feature-settings","normal"),lqx.getBrowser.version<=8&&jQuery("img").each(function(){src=jQuery(this).attr("src"),/\.svg$/i.test(src)&&jQuery(this).attr("src",src.replace(".svg",".png"))}))},initEqualHeightRows:function(){lqx.settings.equalHeightRows.onlyVisible?lqx.vars.equalHeightRowElems=jQuery(".equalheightrow:visible"):lqx.vars.equalHeightRowElems=jQuery(".equalheightrow"),lqx.vars.equalHeightRowImgs=lqx.vars.equalHeightRowElems.find("img"),lqx.vars.equalHeightRowPageLoaded=!1,jQuery(window).load(function(){lqx.vars.equalHeightRowPageLoaded=!0}),lqx.equalHeightRows()},equalHeightRows:function(a){var b=lqx.settings.equalHeightRows;"object"==typeof a&&jQuery.extend(!0,b,a),(b.refreshElems||"undefined"==typeof lqx.vars.equalHeightRowElems)&&(lqx.settings.equalHeightRows.onlyVisible?lqx.vars.equalHeightRowElems=jQuery(".equalheightrow:visible"):lqx.vars.equalHeightRowElems=jQuery(".equalheightrow"),lqx.vars.equalHeightRowImgs=lqx.vars.equalHeightRowElems.find("img"));var c=lqx.vars.equalHeightRowElems.length;jQuery.Deferred().done(function(){lqx.vars.equalHeightRowElems.height("auto")},function(){var a,b=0,d=0,e=new Array,f=0,g=0;lqx.vars.equalHeightRowElems.each(function(h){if(a=jQuery(this),b=a.offset().top,d=a.height(),b!=f){if(e.length>1)for(var i=0;i<e.length;i++)e[i].height(g);e=new Array(a),f=a.offset().top,g=d}else if(e.push(a),g=d>g?d:g,h==c-1&&e.length>1)for(var i=0;i<e.length;i++)e[i].height(g)})},function(){lqx.settings.equalHeightRows.checkPageLoad&&lqx.vars.equalHeightRowPageLoaded||lqx.vars.equalHeightRowImgs.each(function(){this.complete||setTimeout(function(){lqx.equalHeightRows(a)},250)})}).resolve()},hangingPunctuation:function(){lqx.vars.hangingMarks={"“":"medium","‘":"small",'"':"medium","'":"small","«":"large","‹":"medium","„":"medium","‚":"small"},jQuery(".hanging-punctuation").find("p").each(function(a,b){lqx.hangPunctuation(b)})},hangPunctuation:function(a){var b=a.innerText||a.textContent;for(var c in lqx.vars.hangingMarks)if(0===b.indexOf(c)){jQuery(a).append('<span id="hangingMark">'+c+"</span>");var d=jQuery("#hangingMark").outerWidth();jQuery(a).css("text-indent","-"+d+"px"),jQuery("#hangingMark").remove()}},imageCaption:function(){jQuery(".image.caption img").each(function(a,b){var c=jQuery(b).attr("alt");c&&jQuery(b).after('<div class="caption">'+c+"</div>")})},lineBreakSymbol:function(){jQuery(".show-line-break p br").each(function(a,b){jQuery(b).before(String.fromCharCode(8626))})},shadeColor:function(){for(var a in["color","bg","border"])for(var b in["lighter","light","dark","darker"]){var c;switch(a){case"color":c="color";break;case"bg":c="background-color";break;case"border":c="border-color"}var d="."+a+"-"+b;jQuery(d).each(function(a,d){var e=jQuery(d).css(c);e="#"==e.charAt(0)?shadeHex(e,lqx.settings.shadeColorPercent[b]):shadeRGB(e,lqx.settings.shadeColorPercent[b]),jQuery(d).css(c,e)})}},shadeHex:function(a,b){var c=parseInt(a.slice(1),16),d=Math.round(2.55*b),e=(c>>16)+d,f=(c>>8&255)+d,g=(255&c)+d;return"#"+(16777216+65536*(e<255?e<1?0:e:255)+256*(f<255?f<1?0:f:255)+(g<255?g<1?0:g:255)).toString(16).slice(1)},shadeRGB:function(a,b){var c=a.split(","),d=b<0?0:255,e=b<0?b*-1:b,f=parseInt(c[0].slice(4)),g=parseInt(c[1]),h=parseInt(c[2]);return"rgb("+(Math.round((d-f)*e)+f)+","+(Math.round((d-g)*e)+g)+","+(Math.round((d-h)*e)+h)+")"},initTracking:function(){if((lqx.settings.tracking.outbound||lqx.settings.tracking.download)&&jQuery("a").each(function(){var a=this;a.href&&"undefined"==typeof jQuery(this).attr("data-featherlight")&&"undefined"==typeof jQuery(this).parent().attr("data-featherlight-gallery")&&(a.href.indexOf(location.host)==-1&&lqx.settings.tracking.outbound?jQuery(a).click(function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var c=a.href,d=c;jQuery(a).attr("title")&&(d=jQuery(a).attr("title")+" ["+c+"]"),ga("send",{hitType:"event",eventCategory:"Outbound Links",eventAction:"click",eventLabel:d,nonInteraction:!0,hitCallback:function(){window.location.href=c}})}):a.href.match(/\.(gif|png|jpg|jpeg|tif|tiff|svg|webp|bmp|zip|rar|gzip|7z|tar|exe|msi|dmg|txt|pdf|rtf|doc|docx|dot|dotx|xls|xlsx|xlt|xltx|ppt|pptx|pot|potx|mp3|wav|mp4|ogg|webm|wma|mov|avi|wmv|flv|swf|xml|js|json|css|less|sass)$/i)&&lqx.settings.tracking.downloads&&jQuery(a).click(function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;var c=a.href,d=a.protocol+"//"+a.hostname+a.pathname+a.search,e=a.pathname+a.search,f="Download: "+e;jQuery(a).attr("title")&&(f=jQuery(a).attr("title")),ga("send",{hitType:"pageview",location:d,page:e,title:f,hitCallback:function(){window.location.href=c}})}))}),lqx.settings.tracking.scrolldepth&&(lqx.vars.scrollDepthMax=10*Math.ceil((jQuery(window).scrollTop()+jQuery(window).height())/jQuery(document).height()*10),jQuery(window).on("scrollthrottle",function(){lqx.vars.scrollDepthMax<100&&(lqx.vars.scrollDepthMax=Math.max(lqx.vars.scrollDepthMax,10*Math.ceil((jQuery(window).scrollTop()+jQuery(window).height())/jQuery(document).height()*10)),lqx.vars.scrollDepthMax>100&&(lqx.vars.scrollDepthMax=100))}),jQuery(window).on("unload",function(){ga("send",{hitType:"event",eventCategory:"Scroll Depth",eventAction:lqx.vars.scrollDepthMax,nonInteraction:!0})})),lqx.settings.tracking.photogallery&&(jQuery("html").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox], a[data-featherlight-image]",function(){ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Open"})}),jQuery("html").on("load","img.lb-image",function(){ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Display",eventLabel:jQuery(this).attr("src")})})),lqx.settings.tracking.video){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api",a.onload=function(){lqx.vars.youTubeIframeAPIReady=!0};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),window.addEventListener?window.addEventListener("message",lqx.vimeoReceiveMessage,!1):window.attachEvent("onmessage",lqx.vimeoReceiveMessage,!1),lqx.vars.youtubePlayers={},lqx.vars.vimeoPlayers={},jQuery("iframe").each(function(){var a=jQuery(this);lqx.initVideoPlayerAPI(a)})}lqx.settings.tracking.activetime&&jQuery(window).on("unload",function(){ga("send",{hitType:"event",eventCategory:"User Active Time",eventAction:"Percentage",eventValue:parseInt(100*lqx.vars.userActive.activeTime/(lqx.vars.userActive.activeTime+lqx.vars.userActive.inactiveTime)),nonInteraction:!0}),ga("send",{hitType:"event",eventCategory:"User Active Time",eventAction:"Active Time (ms)",eventValue:parseInt(lqx.vars.userActive.activeTime),nonInteraction:!0}),ga("send",{hitType:"event",eventCategory:"User Active Time",eventAction:"Inactive Time (ms)",eventValue:parseInt(lqx.vars.userActive.inactiveTime),nonInteraction:!0})})},featherlightMutationHandler:function(a){jQuery(a.addedNodes).each(function(){var a=jQuery(this),b=a.attr("src");if("undefined"!=typeof a.prop("tagName")&&a.hasClass("featherlight-image")){var c=a.prop("tagName").toLowerCase();"img"==c&&"undefined"!=typeof b&&ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Display",eventLabel:jQuery(this).attr("src")})}})},videoPlayerMutationHandler:function(a){jQuery(a.addedNodes).each(function(){var a=jQuery(this);if("undefined"!=typeof a.prop("tagName")){var b=a.prop("tagName").toLowerCase();"iframe"==b&&lqx.initVideoPlayerAPI(a)}})},initVideoPlayerAPI:function(a){var b=a.attr("src"),c=a.attr("id");if("undefined"!=typeof b){if(b.indexOf("youtube.com/embed/")!=-1){if("undefined"==typeof c&&(c="youtubePlayer"+Object.keys(lqx.vars.youtubePlayers).length,a.attr("id",c)),b.indexOf("enablejsapi=1")==-1){var d="&";b.indexOf("?")==-1&&(d="?"),a.attr("src",b+d+"enablejsapi=1&version=3")}"undefined"==typeof lqx.vars.youtubePlayers[c]&&(lqx.vars.youtubePlayers[c]={},onYouTubeIframeAPIReady())}if(b.indexOf("player.vimeo.com/video/")!=-1){if("undefined"==typeof c&&(c="vimeoPlayer"+Object.keys(lqx.vars.vimeoPlayers).length,a.attr("id",c)),b.indexOf("api=1")==-1){var d="&";b.indexOf("?")==-1&&(d="?"),a.attr("src",b+d+"api=1&player_id="+c)}"undefined"==typeof lqx.vars.vimeoPlayers[c]&&(lqx.vars.vimeoPlayers[c]={})}}},youtubePlayerReady:function(a,b){if(jQuery("#"+b).length){if("function"!=typeof lqx.vars.youtubePlayers[b].playerObj.getPlayerState);else if("undefined"==typeof lqx.vars.youtubePlayers[b].progress){lqx.vars.youtubePlayers[b].progress=0,lqx.vars.youtubePlayers[b].start=!1,lqx.vars.youtubePlayers[b].complete=!1;var c=lqx.vars.youtubePlayers[b].playerObj.getVideoData();lqx.vars.youtubePlayers[b].title=c.title,lqx.vars.youtubePlayers[b].duration=lqx.vars.youtubePlayers[b].playerObj.getDuration(),lqx.vars.youtubePlayers[b].start||lqx.youtubePlayerStateChange(a,b)}}else delete lqx.vars.youtubePlayers[b]},youtubePlayerStateChange:function(a,b){if(jQuery("#"+b).length){var c;0!=lqx.vars.youtubePlayers[b].playerObj.getPlayerState()||lqx.vars.youtubePlayers[b].complete||(c="Complete",lqx.vars.youtubePlayers[b].complete=!0),1==lqx.vars.youtubePlayers[b].playerObj.getPlayerState()&&(lqx.vars.youtubePlayers[b].timer=setTimeout(function(){lqx.youtubePlayerStateChange(a,b)},1e3),lqx.vars.youtubePlayers[b].start?(currentTime=lqx.vars.youtubePlayers[b].playerObj.getCurrentTime(),Math.ceil(Math.ceil(currentTime/lqx.vars.youtubePlayers[b].duration*100)/10)-1>lqx.vars.youtubePlayers[b].progress&&(lqx.vars.youtubePlayers[b].progress=Math.ceil(Math.ceil(currentTime/lqx.vars.youtubePlayers[b].duration*100)/10)-1,10!=lqx.vars.youtubePlayers[b].progress?c=10*lqx.vars.youtubePlayers[b].progress+"%":clearTimeout(lqx.vars.youtubePlayers[b].timer))):(c="Start",lqx.vars.youtubePlayers[b].start=!0)),3==lqx.vars.youtubePlayers[b].playerObj.getPlayerState()&&(lqx.vars.youtubePlayers[b].timer=setTimeout(function(){lqx.youtubePlayerStateChange(a,b)},1e3)),c&&lqx.videoTrackingEvent(b,c,lqx.vars.youtubePlayers[b].title,10*lqx.vars.youtubePlayers[b].progress)}else delete lqx.vars.youtubePlayers[b]},vimeoReceiveMessage:function(a){if(/^https?:\/\/player.vimeo.com/.test(a.origin)){var b=JSON.parse(a.data);player=lqx.vars.vimeoPlayers[b.player_id];var c;switch(b.event){case"ready":player.progress=0,player.start=!1,player.complete=!1,lqx.vimeoSendMessage(b.player_id,a.origin,"addEventListener","play"),lqx.vimeoSendMessage(b.player_id,a.origin,"addEventListener","finish"),lqx.vimeoSendMessage(b.player_id,a.origin,"addEventListener","playProgress");break;case"play":player.start||(c="Start",player.start=!0);break;case"playProgress":Math.ceil(Math.ceil(100*b.data.percent)/10)-1>player.progress&&(player.progress=Math.ceil(Math.ceil(100*b.data.percent)/10)-1,10!=player.progress&&(c=10*player.progress+"%"));break;case"finish":player.complete||(c="Complete",player.complete=!0)}c&&lqx.videoTrackingEvent(b.player_id,c,"No title",10*player.progress)}},vimeoSendMessage:function(a,b,c,d){var e={method:c};d&&(e.value=d),document.getElementById(a).contentWindow.postMessage(JSON.stringify(e),b)},videoTrackingEvent:function(a,b,c,d){ga("send",{hitType:"event",eventCategory:"Video",eventAction:b,eventLabel:c+" ("+jQuery("#"+a).attr("src").split("?")[0]+")",eventValue:d})},initMobileMenu:function(){jQuery("body").on("click",".horizontal ul.menu a, .vertical ul.menu a, .slide-out ul.menu a",function(a){a.preventDefault(),lqx.mobileMenu(this)}),jQuery("body").on("click",".horizontal, .vertical, .slide-out",function(a){a.stopPropagation()}),jQuery("body").on("click",".slide-out .menu-control",function(){var a=jQuery(this).parent();jQuery(a).hasClass("open")?jQuery(a).removeClass("open"):jQuery(a).addClass("open")}),jQuery("body").click(function(){jQuery(".horizontal, .vertical, .slide-out").find("ul.menu li.open").removeClass("open"),jQuery(".slide-out.open").removeClass("open")})},mobileMenu:function(a){var b=jQuery(a).parent(),c=a.href,d=!(!a.target||a.target.match(/^_(self|parent|top)$/i))&&a.target,e=function(){d?window.open(c,d):window.location.href=c};jQuery(b).hasClass("deeper")?jQuery(b).hasClass("open")?e():(jQuery(b).siblings("li.open").find("li.open").removeClass("open"),jQuery(b).siblings("li.open").removeClass("open"),jQuery(b).addClass("open")):e()},initMutationObserver:function(){var a=window.MutationObserver||window.WebKitMutationObserver;"undefined"!=typeof a?(lqx.mutationObserver=new a(lqx.mutationHandler),lqx.mutationObserver.observe(jQuery("html")[0],{childList:!0,characterData:!0,attributes:!0,subtree:!0})):(lqx.settings.tracking.video&&jQuery("html").on("DOMNodeInserted","iframe",function(a){lqx.initVideoPlayerAPI(jQuery(a.currentTarget))}),lqx.settings.tracking.photogallery&&jQuery("html").on("DOMNodeInserted","img.featherlight-image",function(a){var b=jQuery(a.currentTarget).attr("src");"undefined"!=typeof b&&ga("send",{hitType:"event",eventCategory:"Photo Gallery",eventAction:"Display",eventLabel:b})}))},mutationHandler:function(a){a.forEach(function(a){switch(a.type){case"childList":a.addedNodes.length>0&&(lqx.videoPlayerMutationHandler(a),lqx.featherlightMutationHandler(a),lqx.imageMutationHandler(a)),a.removedNodes.length>0;break;case"attributes":break;case"characterData":}})},initImgLoadAttr:function(){jQuery("img").each(function(){var a=jQuery(this);lqx.imgLoadAttr(a[0])})},imgLoadAttr:function(a){var a=jQuery(a);a[0].complete?0==a[0].naturalWidth&&0==a[0].naturalHeight?a.attr("loaderror",""):a.attr("loadcomplete",""):(a.on("load",function(){a.attr("loadcomplete","")}),a.on("error",function(){a.attr("loaderror","")}))},imageMutationHandler:function(a){jQuery(a.addedNodes).each(function(){var a=jQuery(this);if("undefined"!=typeof a.prop("tagName")){var b=a.prop("tagName").toLowerCase();"img"==b&&lqx.imgLoadAttr(a[0])}})},lyqBox:{init:function(){if(jQuery("[data-lyqbox]").length){lqx.lyqBox.album=[],lqx.lyqBox.currentImageIndex=void 0,lqx.lyqBox.enable(),lqx.lyqBox.build();var a=lqx.lyqBox.alert(jQuery("[data-lyqbox-type=alert]"));a.always(function(){lqx.lyqBox.hash()})}},hash:function(){if(""!=window.location.hash.substr(1)){var a=window.location.hash.substr(1).split("_");jQuery("[data-lyqbox="+a[0]+"][data-lyqbox-alias="+a[1]+"]").length&&lqx.lyqBox.start(jQuery("[data-lyqbox="+a[0]+"][data-lyqbox-alias="+a[1]+"]"))}},alert:function(a){var b=jQuery.Deferred();if(1==a.length){var c="lyqbox-alert-"+a.attr("data-lyqbox"),d=localStorage.getItem(c);d?b.reject():(lqx.lyqBox.start(a),jQuery(".lyqbox .close").on("click",function(){var c="lyqbox-alert-"+lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].albumId;return localStorage.setItem(c,1),b.resolve(),lqx.lyqBox.end(),!1}))}else b.reject();return b.promise()},enable:function(){jQuery("body").on("click","[data-lyqbox]",function(a){return jQuery(".lyqbox").addClass("open"),lqx.lyqBox.start(jQuery(a.currentTarget)),!1})},build:function(){jQuery(lqx.settings.lyqBox.lyqboxHTMLContent).appendTo(jQuery("body")),lqx.lyqBox.overlay=jQuery(".lyqbox"),lqx.lyqBox.containerActive=lqx.lyqBox.overlay.find(".content-wrapper").first().addClass("active"),lqx.lyqBox.overlay.find(".content").on("click",function(){return!1}),lqx.lyqBox.overlay.on("click",function(){return"alert"!=lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].type&&(lqx.lyqBox.end(),!1)}),lqx.lyqBox.overlay.find(".prev").on("click",function(){return 0===lqx.lyqBox.currentImageIndex?lqx.lyqBox.changeContent(lqx.lyqBox.album.length-1):lqx.lyqBox.changeContent(lqx.lyqBox.currentImageIndex-1),!1}),lqx.lyqBox.overlay.find(".next").on("click",function(){return lqx.lyqBox.currentImageIndex===lqx.lyqBox.album.length-1?lqx.lyqBox.changeContent(0):lqx.lyqBox.changeContent(lqx.lyqBox.currentImageIndex+1),!1}),lqx.lyqBox.overlay.find(".close").on("click",function(){return"alert"!=lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].type&&(lqx.lyqBox.end(),!1)})},stopVideo:function(a){"video"==a&&lqx.lyqBox.containerActive.find(".content.video .video-container iframe").remove()},start:function(a){function c(a){lqx.lyqBox.album.push({albumId:a.attr("data-lyqbox"),type:a.attr("data-lyqbox-type"),link:a.attr("data-lyqbox-url"),title:a.attr("data-lyqbox-title"),caption:a.attr("data-lyqbox-caption"),credit:a.attr("data-lyqbox-credit"),class:a.attr("data-lyqbox-class"),alias:a.attr("data-lyqbox-alias"),html:a.attr("data-lyqbox-html")})}lqx.lyqBox.album=[];var d,b=0,e=a.attr("data-lyqbox");if(e){d=jQuery(a.prop("tagName")+'[data-lyqbox="'+e+'"]');for(var f=0;f<d.length;f=++f)c(jQuery(d[f])),d[f]===a[0]&&(b=f)}lqx.lyqBox.changeContent(b)},loadHTML:function(a){var b=jQuery.Deferred(),c=jQuery("<div></div>").load(a,function(a,d){"error"!==d&&b.resolve(c.contents()),b.fail()});return b.promise()},addHash:function(){lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].alias&&(window.location.hash=lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].albumId+"_"+lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].alias)},changeContent:function(a){lqx.lyqBox.disableKeyboardNav(),lqx.lyqBox.overlay.addClass("open");var b=jQuery.Deferred();switch(lqx.lyqBox.album[a].type){case"image":var c=jQuery("<img />"),d=new Image;d.src=lqx.lyqBox.album[a].link,d.onload=function(){var b;c.attr("src",lqx.lyqBox.album[a].link),b=jQuery(d),lqx.lyqBox.updateContent(c,a,lqx.lyqBox.album[a].type),lqx.lyqBox.addHash(),window.getComputedStyle(c[0]).opacity};break;case"video":var e=jQuery("<iframe></iframe>");e.attr("src",lqx.lyqBox.album[a].link),lqx.lyqBox.updateContent('<div class="video-container">'+e.prop("outerHTML")+"</div>",a,lqx.lyqBox.album[a].type),lqx.lyqBox.addHash();break;case"html":case"alert":""!=lqx.lyqBox.album[a].link&&"undefined"!=typeof lqx.lyqBox.album[a].link?(b=lqx.lyqBox.loadHTML(lqx.lyqBox.album[a].link),b.done(function(c){""!=c&&lqx.lyqBox.updateContent(c,a,lqx.lyqBox.album[a].type)})):lqx.lyqBox.updateContent(lqx.lyqBox.album[a].html,a,lqx.lyqBox.album[a].type)}},updateContent:function(a,b,c){lqx.lyqBox.stopVideo(c),lqx.lyqBox.overlay.find(".content-wrapper").not(".active").addClass("active").find(".content").removeClass().addClass("content "+c).empty().append(a),lqx.lyqBox.containerActive.removeClass("active"),lqx.lyqBox.containerActive=lqx.lyqBox.overlay.find(".content-wrapper.active"),lqx.lyqBox.currentImageIndex=b,lqx.lyqBox.updateUIandKeyboard()},updateUIandKeyboard:function(){lqx.lyqBox.updateUI(),lqx.lyqBox.enableKeyboardNav()},updateUI:function(){"alert"!=lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].type?("undefined"!=typeof lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].title&&""!==lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].title?lqx.lyqBox.overlay.find(".title").html(lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].title):lqx.lyqBox.overlay.find(".title").html(""),"undefined"!=typeof lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].caption&&""!==lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].caption?lqx.lyqBox.overlay.find(".caption").html(lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].caption):lqx.lyqBox.overlay.find(".caption").html(""),"undefined"!=typeof lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].credit&&""!==lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].credit?lqx.lyqBox.overlay.find(".credit").html(lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].credit):lqx.lyqBox.overlay.find(".credit").html(""),lqx.lyqBox.album.length>1?(lqx.lyqBox.overlay.find(".current").text(lqx.lyqBox.currentImageIndex+1),lqx.lyqBox.overlay.find(".total").text(lqx.lyqBox.album.length)):(lqx.lyqBox.overlay.find(".prev,.next").addClass("hide"),lqx.lyqBox.overlay.find(".counter").addClass("hide"))):(lqx.lyqBox.overlay.find(".prev,.next").addClass("hide"),lqx.lyqBox.overlay.find(".counter").addClass("hide"))},enableKeyboardNav:function(){jQuery(document).on("keyup.keyboard",jQuery.proxy(lqx.lyqBox.keyboardAction,lqx.lyqBox))},disableKeyboardNav:function(){jQuery(document).off(".keyboard")},keyboardAction:function(a){var b=27,c=37,d=39,e=a.keyCode,f=String.fromCharCode(e).toLowerCase();e===b||f.match(/x|o|c/)?lqx.lyqBox.end():e===c?0===lqx.lyqBox.currentImageIndex?lqx.lyqBox.changeContent(lqx.lyqBox.album.length-1):lqx.lyqBox.changeContent(lqx.lyqBox.currentImageIndex-1):e===d&&(lqx.lyqBox.currentImageIndex===lqx.lyqBox.album.length-1?lqx.lyqBox.changeContent(0):lqx.lyqBox.changeContent(lqx.lyqBox.currentImageIndex+1))},removeHash:function(){var a,b,c=window.location;"pushState"in history?history.pushState("",document.title,c.pathname+c.search):(a=document.body.scrollTop,b=document.body.scrollLeft,c.hash="",document.body.scrollTop=a,document.body.scrollLeft=b)},end:function(){lqx.lyqBox.disableKeyboardNav(),lqx.lyqBox.overlay.removeClass("open"),lqx.lyqBox.stopVideo(lqx.lyqBox.album[lqx.lyqBox.currentImageIndex].type),lqx.lyqBox.removeHash()}},initUserActive:function(){lqx.vars.userActive={active:!0,timer:!1,throttle:!1,lastChangeTime:(new Date).getTime(),activeTime:0,inactiveTime:0},jQuery(window).on("orientationchange resize focusin",function(){lqx.userActive()}),jQuery(document).on("mousedown mousemove mouseup wheel keydown keypress keyup touchstart touchmove touchend",function(){lqx.userActive()}),jQuery(window).on("focusout",function(){lqx.userInactive()});var a=setInterval(function(){lqx.vars.userActive.activeTime+lqx.vars.userActive.inactiveTime>=lqx.vars.userActive.maxTime?clearInterval(a):(lqx.vars.userActive.active?lqx.vars.userActive.activeTime+=(new Date).getTime()-lqx.vars.userActive.lastChangeTime:lqx.vars.userActive.inactiveTime+=(new Date).getTime()-lqx.vars.userActive.lastChangeTime,lqx.vars.userActive.lastChangeTime=(new Date).getTime())},lqx.settings.userActive.refresh);lqx.userActive()},userActive:function(){lqx.vars.userActive.throttle||(lqx.vars.userActive.throttle=!0,setTimeout(function(){lqx.vars.userActive.throttle=!1},lqx.settings.userActive.throttle),lqx.vars.userActive.active||(lqx.vars.userActive.active=!0,lqx.vars.userActive.inactiveTime+=(new Date).getTime()-lqx.vars.userActive.lastChangeTime,lqx.vars.userActive.lastChangeTime=(new Date).getTime()),lqx.vars.userActive.active=!0,clearTimeout(lqx.vars.userActive.timer),lqx.vars.userActive.timer=setTimeout(function(){lqx.userInactive()},lqx.settings.userActive.idleTime))},userInactive:function(){lqx.vars.userActive.active=!1,clearTimeout(lqx.vars.userActive.timer),lqx.vars.userActive.activeTime+=(new Date).getTime()-lqx.vars.userActive.lastChangeTime,lqx.vars.userActive.lastChangeTime=(new Date).getTime()},gaReady:function(a){jQuery.Deferred().done(function(){if(lqx.settings.ga.createParams&&"object"==typeof lqx.settings.ga.createParams){var a=lqx.settings.ga.createParams;Object.keys(a).forEach(function(b){"default"==b?ga("create",a[b].trackingId,a[b].cookieDomain,a[b].fieldsObject):ga("create",a[b].trackingId,a[b].cookieDomain,b,a[b].fieldsObject)})}},function(){if(lqx.settings.ga.setParams&&"object"==typeof lqx.settings.ga.setParams){var a=lqx.settings.ga.setParams;Object.keys(a).forEach(function(b){var c="set";"default"!=b&&(c=b+".set"),Object.keys(a[b]).forEach(function(d){ga(c,d,a[b][d])})})}if(lqx.settings.ga.requireParams&&"object"==typeof lqx.settings.ga.requireParams){var a=lqx.settings.ga.requireParams;Object.keys(a).forEach(function(b){var c="require";"default"!=b&&(c=b+".require"),a[b].forEach(function(a){ga(c,a.pluginName,a.pluginOptions)})})}if(lqx.settings.ga.provideParams&&"object"==typeof lqx.settings.ga.provideParams){var a=lqx.settings.ga.provideParams;Object.keys(a).forEach(function(b){var c="provide";"default"!=b&&(c=b+".provide"),a[b].forEach(function(a){ga(c,a.pluginName,a.pluginConstructor)})})}if(null!=lqx.settings.ga.abTestName&&null!=lqx.settings.ga.abTestNameDimension&&null!=lqx.settings.ga.abTestGroupDimension){var b=lqx.cookie("abTestGroup");null==b&&(b=Math.random()<.5?"A":"B",lqx.cookie("abTestGroup",b,{maxAge:2592e3,path:"/"})),jQuery("body").attr("data-abtest",b),ga("set","dimension"+lqx.settings.ga.abTestNameDimension,lqx.settings.ga.abTestName),ga("set","dimension"+lqx.settings.ga.abTestGroupDimension,b)}},function(){if("function"==typeof lqx.settings.ga.customParamsFuncs)try{lqx.settings.ga.customParamsFuncs()}catch(a){console.log(a)}},function(){ga("send","pageview"),lqx.initTracking()}).resolve()},parseURLParams:function(){lqx.vars.urlParams={};var a=window.location.search.substr(1).split("&");a.length&&a.forEach(function(a){a=a.split("=",2),2==a.length?lqx.vars.urlParams[a[0]]=decodeURIComponent(a[1].replace(/\+/g," ")):lqx.vars.urlParams[a[0]]=null;
})},comicfyFonts:function(){if("undefined"!=typeof lqx.vars.urlParams.comicfy){var a=document.createElement("link");a.href=lqx.vars.tmplURL+"/fonts/comicneue/comicfy.css",a.type="text/css",a.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(a)}},init:function(){return jQuery(document).ready(function(){lqx.bodyScreenSize(),lqx.bodyScreenOrientation(),lqx.geoLocate(),lqx.initImgLoadAttr(),lqx.browserFixes(),lqx.initLogging(),lqx.initMobileMenu(),lqx.initEqualHeightRows(),lqx.imageCaption(),lqx.lineBreakSymbol(),lqx.initMutationObserver(),lqx.lyqBox.init(),lqx.initUserActive(),lqx.parseURLParams()}),jQuery(window).load(function(){lqx.bodyScreenSize(),lqx.hangingPunctuation(),lqx.equalHeightRows(),lqx.comicfyFonts()}),jQuery(window).scroll(function(){lqx.vars.scrollThrottle||(jQuery(document).trigger("scrollthrottle"),lqx.vars.scrollThrottle=!0,setTimeout(function(){jQuery(document).trigger("scrollthrottle"),lqx.vars.scrollThrottle=!1},lqx.settings.scrollThrottle.duration))}),jQuery(window).resize(function(){lqx.vars.resizeThrottle||(jQuery(document).trigger("resizethrottle"),lqx.vars.resizeThrottle=!0,setTimeout(function(){jQuery(document).trigger("resizethrottle"),lqx.vars.resizeThrottle=!1},lqx.settings.resizeThrottle.duration))}),jQuery(window).on("orientationchange",function(){lqx.bodyScreenSize(),lqx.bodyScreenOrientation()}),jQuery(window).on("screensizechange",function(){lqx.equalHeightRows(),lqx.hangingPunctuation()}),jQuery(window).on("scrollthrottle",function(){}),jQuery(window).on("resizethrottle",function(){lqx.bodyScreenSize()}),window.onYouTubeIframeAPIReady=function(){if(lqx.vars.youTubeIframeAPIReady&&"undefined"!=typeof YT&&YT&&YT.Player)for(var a in lqx.vars.youtubePlayers)"undefined"==typeof lqx.vars.youtubePlayers[a].playerObj&&(lqx.vars.youtubePlayers[a].playerObj=new YT.Player(a,{events:{onReady:function(b){lqx.youtubePlayerReady(b,a)},onStateChange:function(b){lqx.youtubePlayerStateChange(b,a)}}}));else lqx.vars.youTubeIframeAPIReadyAttempts++,lqx.vars.youTubeIframeAPIReadyAttempts<120&&setTimeout("onYouTubeIframeAPIReady()",250)},!0}()};